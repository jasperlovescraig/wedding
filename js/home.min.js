(function(b,a){if("object"===typeof exports&&exports)a(exports);else{var d={};a(d);"function"===typeof define&&define.amd?define(d):b.Mustache=d}})(this,function(b){function a(a){return"function"===typeof a}function d(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function c(a){if(!u(a)||2!==a.length)throw Error("Invalid tags: "+a);return[RegExp(d(a[0])+"\\s*"),RegExp("\\s*"+d(a[1]))]}function e(a){this.tail=this.string=a;this.pos=0}function h(a,b){this.view=null==a?{}:a;this.cache={".":this.view};
this.parent=b}function l(){this.cache={}}var v=RegExp.prototype.test,x=/\S/,s=Object.prototype.toString,u=Array.isArray||function(a){return"[object Array]"===s.call(a)},y={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},D=/\s*/,A=/\s+/,B=/\s*=/,E=/\s*\}/,F=/#|\^|\/|>|\{|&|=|!/;e.prototype.eos=function(){return""===this.tail};e.prototype.scan=function(a){return(a=this.tail.match(a))&&0===a.index?(a=a[0],this.tail=this.tail.substring(a.length),this.pos+=a.length,a):""};e.prototype.scanUntil=
function(a){a=this.tail.search(a);var b;switch(a){case -1:b=this.tail;this.tail="";break;case 0:b="";break;default:b=this.tail.substring(0,a),this.tail=this.tail.substring(a)}this.pos+=b.length;return b};h.prototype.push=function(a){return new h(a,this)};h.prototype.lookup=function(b){var d;if(b in this.cache)d=this.cache[b];else{for(var c=this;c;){if(0<b.indexOf(".")){d=c.view;for(var k=b.split("."),e=0;null!=d&&e<k.length;)d=d[k[e++]]}else d=c.view[b];if(null!=d)break;c=c.parent}this.cache[b]=d}a(d)&&
(d=d.call(this.view));return d};l.prototype.clearCache=function(){this.cache={}};l.prototype.parse=function(a,h){var C=this.cache,k=C[a];if(null==k){var l;l=h||b.tags;k=a||"";"string"===typeof l&&(l=l.split(A));for(var f=c(l),m=new e(k),p=[],k=[],g=[],s=!1,u=!1,q,n,r,w;!m.eos();){q=m.pos;if(r=m.scanUntil(f[0])){w=0;for(var y=r.length;w<y;++w)if(n=r.charAt(w),v.call(x,n)?u=!0:g.push(k.length),k.push(["text",n,q,q+1]),q+=1,"\n"===n){if(s&&!u)for(;g.length;)delete k[g.pop()];else g=[];u=s=!1}}if(!m.scan(f[0]))break;
s=!0;n=m.scan(F)||"name";m.scan(D);"="===n?(r=m.scanUntil(B),m.scan(B),m.scanUntil(f[1])):"{"===n?(r=m.scanUntil(RegExp("\\s*"+d("}"+l[1]))),m.scan(E),m.scanUntil(f[1]),n="&"):r=m.scanUntil(f[1]);if(!m.scan(f[1]))throw Error("Unclosed tag at "+m.pos);w=[n,r,q,m.pos];k.push(w);if("#"===n||"^"===n)p.push(w);else if("/"===n){n=p.pop();if(!n)throw Error('Unopened section "'+r+'" at '+q);if(n[1]!==r)throw Error('Unclosed section "'+n[1]+'" at '+q);}else"name"===n||"{"===n||"&"===n?u=!0:"="===n&&(f=c(l=
r.split(A)))}if(n=p.pop())throw Error('Unclosed section "'+n[1]+'" at '+m.pos);l=[];for(var t,m=0,p=k.length;m<p;++m)if(f=k[m])"text"===f[0]&&t&&"text"===t[0]?(t[1]+=f[1],t[3]=f[3]):(l.push(f),t=f);g=t=[];k=[];m=0;for(p=l.length;m<p;++m)switch(f=l[m],f[0]){case "#":case "^":g.push(f);k.push(f);g=f[4]=[];break;case "/":g=k.pop();g[5]=f[2];g=0<k.length?k[k.length-1][4]:t;break;default:g.push(f)}k=C[a]=t}return k};l.prototype.render=function(a,b,d){var c=this.parse(a);b=b instanceof h?b:new h(b);return this.renderTokens(c,
b,d,a)};l.prototype.renderTokens=function(d,c,e,k){function h(a){return l.render(a,c,e)}for(var f="",l=this,p,g,s=0,v=d.length;s<v;++s)switch(p=d[s],p[0]){case "#":g=c.lookup(p[1]);if(!g)continue;if(u(g))for(var q=0,n=g.length;q<n;++q)f+=this.renderTokens(p[4],c.push(g[q]),e,k);else if("object"===typeof g||"string"===typeof g)f+=this.renderTokens(p[4],c.push(g),e,k);else if(a(g)){if("string"!==typeof k)throw Error("Cannot use higher-order sections without the original template");g=g.call(c.view,k.slice(p[3],
p[5]),h);null!=g&&(f+=g)}else f+=this.renderTokens(p[4],c,e,k);break;case "^":g=c.lookup(p[1]);if(!g||u(g)&&0===g.length)f+=this.renderTokens(p[4],c,e,k);break;case ">":if(!e)continue;g=a(e)?e(p[1]):e[p[1]];null!=g&&(f+=this.renderTokens(this.parse(g),c,e,g));break;case "&":g=c.lookup(p[1]);null!=g&&(f+=g);break;case "name":g=c.lookup(p[1]);null!=g&&(f+=b.escape(g));break;case "text":f+=p[1]}return f};b.name="mustache.js";b.version="0.8.1";b.tags=["{{","}}"];var z=new l;b.clearCache=function(){return z.clearCache()};
b.parse=function(a,b){return z.parse(a,b)};b.render=function(a,b,d){return z.render(a,b,d)};b.to_html=function(d,c,e,h){d=b.render(d,c,e);if(a(h))h(d);else return d};b.escape=function(a){return String(a).replace(/[&<>"'\/]/g,function(a){return y[a]})};b.Scanner=e;b.Context=h;b.Writer=l});(function(b){b.fn.unveil=function(a,d){function c(){x=v.filter(function(){var a=b(this),d=e.scrollTop(),c=d+e.height(),l=a.offset().top;return l+a.height()>=d-h&&l<=c+h}).trigger("unveil");v=v.not(x)}var e=b(window),h=a||0,l=1<window.devicePixelRatio?"data-src-retina":"data-src",v=this,x;this.one("unveil",function(){var a=this.getAttribute(l);if(a=a||this.getAttribute("data-src"))this.setAttribute("src",a),"function"===typeof d&&d.call(this)});e.scroll(c);e.resize(c);c();return this}})(window.jQuery||
window.Zepto);var CJ=CJ||{};(function(b,a){CJ.UtilitiesConstructor=function(){};CJ.UtilitiesConstructor.prototype={smoothAnchors:function(a){a=b(a);b("html, body").stop().animate({scrollTop:a.offset().top},1200,"swing")},storage:{session:{set:function(b,c){c=JSON.stringify(c);a.sessionStorage.setItem(b,c)},get:function(b){var c={},c=a.sessionStorage.getItem(b);return c=JSON.parse(c)}}}};CJ.Utilities=new CJ.UtilitiesConstructor})(jQuery,window);CJ=CJ||{};
(function(b){CJ.BabyConstructor=function(){};CJ.BabyConstructor.prototype={init:function(){this.objectInit.call(this)},objectInit:function(){this.Modal.setup.call(this)},Modal:{load:function(a){a=this.Modal.html.call(this);this.Modal.inject.call(this,a);this.Modal.events.close.call(this)},setup:function(){this.Modal.$modal=b("#myModal");this.Modal.$content=b("#ourBaby");this.Modal.load.call(this)},html:function(){var a;a=this.Modal.$content.find("header h2").html();var b=this.Modal.$content.find(".intro").html(),c=
this.Modal.$content.find(".latest").html();a='<div class="modal-dialog"><div class="modal-content baby-modal">'+('<div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h2 class="modal-title" id="myModalLabel">'+a+"</h2></div>")+('<div class="modal-body flexslider">'+b+c+"</div>");return a+='<div class="modal-footer"><button type="button" class="btn btn-default btn-lg btn-block" data-dismiss="modal">See our photos</button>    </div></div></div>'},
inject:function(a){this.Modal.$modal.html(a).modal("show")},events:{close:function(a){this.Modal.$modal.find(".modal-footer button").on("click.close",function(a){CJ.Utilities.smoothAnchors("#ourBaby")})}}}};CJ.Baby=new CJ.BabyConstructor;b(function(){CJ.Baby.init()})})(jQuery,window);CJ=CJ||{};
(function(b){CJ.PhotoConstructor=function(){};CJ.PhotoConstructor.prototype={init:function(){this.objectInit();this.bindEvents()},objectInit:function(){this.Photoset.init()},bindEvents:function(){this.$siteNav=b("#siteNav");this.$siteNav.find("a").on("click.anchor",function(a){a.preventDefault();CJ.Utilities.smoothAnchors(a.target.hash)});b("img").unveil(50)},Photoset:{init:function(){this.setup();null!==this.storedSet?this.tab.load.call(this,this.storedSet):this.load(this.defaultSet,0,!0,!1);this.events.init(this)},
setup:function(){this.apiKey="28a9103300057a9efeda07f46594bd53";this.defaultSet="72157635771860486";this.storedSet=CJ.Utilities.storage.session.get(this.defaultSet)},load:function(a,d,c,e){var h=this;b.getJSON("http://api.flickr.com/services/rest/?method=flickr.photosets.getPhotos&api_key="+h.apiKey+"&photoset_id="+a+"&format=json&jsoncallback=?").done(function(b){c&&h.tab.load.call(h,b);e&&h.slider.load(b,d);CJ.Utilities.storage.session.set(a,b)})},events:{init:function(a){this.weddingTabs(a);this.honeymoonPhotos(a)},
weddingTabs:function(a){var d,c,e,h;b("#weddingPhotos").find("a[data-setid]").on("click.getPhotoSet",function(l){d=b(this);e=d.data();h=CJ.Utilities.storage.session.get(e.setid);c=d.parent();c.addClass("active").siblings().removeClass("active");null!==h?a.tab.load.call(a,h):a.load(e.setid,0,!0,!1);l.preventDefault()})},honeymoonPhotos:function(a){var d,c,e;b("#honeymoonPhotos").find("a[data-setid]").on("click.getPhotoSet",function(h){d=b(this);c=d.data();e=CJ.Utilities.storage.session.get(c.setid);
null!==e?a.slider.load(e):a.load(c.setid,0,!1,!0);h.preventDefault()})}},slider:{load:function(a,b){var c;this.setup();c=this.html(a);this.inject(c);this.instantiate(this,b);this.modal.call(this)},setup:function(){this.$modal=b("#myModal");this.$modal.empty();this.angTpl=b("#tpl-slider").html()},html:function(a){return Mustache.to_html(this.angTpl,a)},inject:function(a){this.$modal.append(a)},instantiate:function(a,b){var c=this,e=a.$modal.find("#slider"),h=e.find(".item:first");e.on("slide.bs.carousel",
function(a){c.slide(a)});h.addClass("active");h.find("img").unveil();e.carousel({interval:!1}).carousel(b)},slide:function(a){b(a.target).find(".carousel-inner > .item.active");a=b(a.relatedTarget).find("img");a.attr("src",a.data("src"))},modal:function(){this.$modal=b("#myModal");this.$modal.modal("show")}},tab:{load:function(a){this.tab.setup();a=this.tab.html(a);this.tab.inject(a);this.tab.$tab.find("img").unveil(50);this.tab.events.init.call(this)},setup:function(){this.$tab=b("#gallery");this.angTpl=
b("#tpl-thumbnail-item").html()},html:function(a){return Mustache.to_html(this.angTpl,a)},inject:function(a){this.$tab.empty().append(a)},events:{init:function(){this.tab.events.thumbnail(this)},thumbnail:function(a){var d=b("#weddingPhotos"),c,e=d.find("li.active a[data-setid]").data(),h=CJ.Utilities.storage.session.get(e.setid);d.find("a.thumbnail").on("click.launchModal",function(){c=b(this).parent().index();null!==h?a.slider.load(h,c):a.load(e.setid,c,!1,!0)})}}}}};CJ.Photo=new CJ.PhotoConstructor;
b(function(){CJ.Photo.init()})})(jQuery,window);CJ=CJ||{};
(function(b){CJ.VideoConstructor=function(){};CJ.VideoConstructor.prototype={init:function(){this.objectInit()},objectInit:function(){this.Videoset.Tab.setup()},Videoset:{Tab:{load:function(a){a=this.html(a);this.inject(a)},setup:function(){this.$videoTab=b("#videoTab");this.initialConfig=b('#weddingVideos a[data-initial-video="true"]').data();this.load(this.initialConfig);this.events.bind(this)},html:function(a){var b;0<a.videoSrc.length&&(b="<h3>"+a.videoTitle+"</h3>",b+='<div class="video-container"><iframe src="'+a.videoSrc+
'" width="'+a.videoWidth+'" height="'+a.videoHeight+'webkitallowfullscreen="true" mozallowfullscreen="true" scrolling="no" frameborder="0" style="border: none; overflow: hidden;" /></div>',b+='<div class="description"><p>'+a.videoDescription+"</p></div>");return b},inject:function(a){this.$videoTab.empty().append(a)},events:{bind:function(a){var d,c,e;b("#weddingVideos .nav a").on("click.loadTab",function(h){c=b(this);e=c.parent();d=c.data();e.addClass("active").siblings().removeClass("active");h.preventDefault();
a.load(d)})}}}}};CJ.Video=new CJ.VideoConstructor;b(function(){CJ.Video.init()})})(jQuery,window);
